<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cafe System - Zib√°</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <main class="menu-container">
            <header>
                <div class="header-top">
                    <h1>Zib√° Caf√© al Paso</h1>
                    <nav class="main-nav">
                        <a href="admin.html">‚öôÔ∏è Admin</a>
                        <a href="reports.html">üìä Reportes</a>
                        <button id="logout-btn" class="btn-logout">üö™ Cerrar Sesi√≥n</button>
                    </nav>
                </div>
                <nav id="category-nav" class="category-nav">
                    </nav>
            </header>
            <section id="product-grid" class="product-grid">
                </section>
        </main>

        <aside class="order-container">
            <div class="order-header">
                <h2>Comanda <span id="order-number">#125</span></h2>
                <button id="clear-order-btn" class="clear-order-btn">Vaciar</button>
            </div>
            <ul id="order-list" class="order-list">
                <li class="empty-state">Tu comanda est√° vac√≠a.</li>
            </ul>
            <div class="order-summary">
                <div class="summary-line">
                    <span>Subtotal:</span>
                    <span id="subtotal-price">$ 0</span>
                </div>
                <div class="summary-line">
                    <span>Descuento:</span>
                    <span id="discount-price">$ 0</span>
                </div>
                <hr>
                <div class="summary-line total">
                    <span>TOTAL:</span>
                    <span id="total-price">$ 0</span>
                </div>
            </div>
            <button id="checkout-btn" class="checkout-btn" disabled>COBRAR</button>
        </aside>
    </div>

    <div id="product-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2 id="modal-product-name">Nombre del Producto</h2>
            <div id="modal-product-options"></div>
            <div class="modal-actions">
                <div class="quantity-control">
                    <button id="decrease-qty">-</button>
                    <span id="modal-quantity">1</span>
                    <button id="increase-qty">+</button>
                </div>
                <button id="add-to-order-btn" class="add-to-order-btn">Agregar al Pedido</button>
            </div>
            <button id="close-modal-btn" class="close-modal-btn">&times;</button>
        </div>
    </div>

    <div id="checkout-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Finalizar Venta</h2>
            <div class="checkout-total">
                <span>Total a Pagar:</span>
                <strong id="modal-checkout-total">$ 0</strong>
            </div>
            <div class="payment-methods">
                <h3>M√©todo de Pago</h3>
                <button class="payment-method-btn" data-method="Efectivo">Efectivo</button>
                <button class="payment-method-btn" data-method="Transferencia">Transferencia</button>
                <button class="payment-method-btn" data-method="Mercado Pago">Mercado Pago</button>
            </div>
            <div id="cash-payment-details" class="cash-details" style="display: none;">
                <div class="form-group">
                    <label for="amount-received">Paga con:</label>
                    <input type="number" id="amount-received" placeholder="0" autocomplete="off">
                </div>
                <div class="form-group">
                    <span>Vuelto:</span>
                    <strong id="change-due">$ 0</strong>
                </div>
            </div>
            <div class="modal-actions">
                <button id="confirm-payment-btn" class="add-to-order-btn" disabled>Confirmar Pago</button>
            </div>
            <button id="close-checkout-modal-btn" class="close-modal-btn">&times;</button>
        </div>
    </div>
    
    <div id="mp-qr-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content qr-modal-content">
            <h2>Escane√° para Pagar</h2>
            <div id="qr-code-container"></div>
            <p>Total: <strong id="qr-total-amount">$0</strong></p>
            <small>Esperando la confirmaci√≥n del pago...</small>
            <button id="close-qr-modal-btn" class="btn btn-secondary">Cancelar</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="app.js"></script>
    <script src="auth.js"></script>
    <script src="app.js"></script>
</body>
</html>